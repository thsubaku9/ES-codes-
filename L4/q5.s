	AREA RESET ,  DATA, READONLY
	EXPORT __Vectors
__Vectors
	DCD 0X10001000
	DCD Reset_Handler
	ALIGN
	
	AREA mycode, CODE, READONLY
	ENTRY
	EXPORT Reset_Handler

Reset_Handler
	LDR R0, =NUM1
	LDR R0, [R0]
	MOV R8, #0
	MOV R7, #8
BACK	BL DIVIDE
	CMP R0, #0
	BNE BACK
R	CMP R7, #0
	BEQ DONE
	ROR R8, #4
	SUB R7, #1
	B R
DONE	;ROR R8, #24
	LDR R0, =BCD
	STR R8, [R0]
STOP B STOP

DIVIDE	MOV R10, #0
SUB1	CMP R0, #0X0A
	BLO DOWN1
	SUB R0, #0X0A
	ADD R10, #1
	B SUB1
DOWN1	ORR R8, R0
	ROR R8, #4
	MOV R0, R10
	SUB R7, #1
	BX LR
	
NUM1 DCD 0X67891A

	AREA mydata, DATA, READWRITE
BCD DCD 0

	END
